<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>The first step: learn to compile | V2Fly.org</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="apple-touch-icon" size="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" size="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" size="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" color="#5bbad5" href="/safari-pinned-tab.svg">
    <meta name="description" content="Project V is a collection of tools that can help you build your own basic communication network">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta name="apple-mobile-web-app-title" content="Project V">
    <meta name="application-name" content="Project V">
    <meta name="msapplication-TileColor" content="#da532c">
    
    <link rel="preload" href="/assets/css/0.styles.da6b8340.css" as="style"><link rel="preload" href="/assets/js/app.9059fb9d.js" as="script"><link rel="preload" href="/assets/js/3.c14aff60.js" as="script"><link rel="preload" href="/assets/js/6.7df7f33f.js" as="script"><link rel="preload" href="/assets/js/87.fa85aae7.js" as="script"><link rel="prefetch" href="/assets/js/10.3dee872a.js"><link rel="prefetch" href="/assets/js/100.ed448f1c.js"><link rel="prefetch" href="/assets/js/101.b026f2ad.js"><link rel="prefetch" href="/assets/js/102.52d0014c.js"><link rel="prefetch" href="/assets/js/103.1f9897bb.js"><link rel="prefetch" href="/assets/js/104.39c188e3.js"><link rel="prefetch" href="/assets/js/105.b4abe889.js"><link rel="prefetch" href="/assets/js/106.68c63dfd.js"><link rel="prefetch" href="/assets/js/107.19c566c8.js"><link rel="prefetch" href="/assets/js/108.779f2864.js"><link rel="prefetch" href="/assets/js/109.21282573.js"><link rel="prefetch" href="/assets/js/11.2126d095.js"><link rel="prefetch" href="/assets/js/110.9dd1ae1b.js"><link rel="prefetch" href="/assets/js/111.33753065.js"><link rel="prefetch" href="/assets/js/112.00e92407.js"><link rel="prefetch" href="/assets/js/113.ac026049.js"><link rel="prefetch" href="/assets/js/114.3820fc7d.js"><link rel="prefetch" href="/assets/js/115.21f889ec.js"><link rel="prefetch" href="/assets/js/116.2d8a0acd.js"><link rel="prefetch" href="/assets/js/117.f75816f2.js"><link rel="prefetch" href="/assets/js/118.eb1ea156.js"><link rel="prefetch" href="/assets/js/119.27fe8625.js"><link rel="prefetch" href="/assets/js/12.966053c4.js"><link rel="prefetch" href="/assets/js/120.8d0eefb3.js"><link rel="prefetch" href="/assets/js/121.57088865.js"><link rel="prefetch" href="/assets/js/122.4c0b7494.js"><link rel="prefetch" href="/assets/js/123.bd4cacb1.js"><link rel="prefetch" href="/assets/js/124.0b8cd471.js"><link rel="prefetch" href="/assets/js/125.6fe80ede.js"><link rel="prefetch" href="/assets/js/126.fb464b26.js"><link rel="prefetch" href="/assets/js/127.c283c2c5.js"><link rel="prefetch" href="/assets/js/128.1f7f6c77.js"><link rel="prefetch" href="/assets/js/129.3c86a8d8.js"><link rel="prefetch" href="/assets/js/13.c11bb2dc.js"><link rel="prefetch" href="/assets/js/130.4ecfd662.js"><link rel="prefetch" href="/assets/js/131.04113b60.js"><link rel="prefetch" href="/assets/js/132.d2971764.js"><link rel="prefetch" href="/assets/js/133.05421b1e.js"><link rel="prefetch" href="/assets/js/134.2b7727d2.js"><link rel="prefetch" href="/assets/js/135.f973a5d7.js"><link rel="prefetch" href="/assets/js/136.67958c44.js"><link rel="prefetch" href="/assets/js/137.724d54b6.js"><link rel="prefetch" href="/assets/js/138.40e60e01.js"><link rel="prefetch" href="/assets/js/139.4e1a4990.js"><link rel="prefetch" href="/assets/js/14.eff0607d.js"><link rel="prefetch" href="/assets/js/140.21bee2bb.js"><link rel="prefetch" href="/assets/js/141.c50809f5.js"><link rel="prefetch" href="/assets/js/142.46097787.js"><link rel="prefetch" href="/assets/js/143.1f788853.js"><link rel="prefetch" href="/assets/js/144.4d507286.js"><link rel="prefetch" href="/assets/js/145.00882028.js"><link rel="prefetch" href="/assets/js/146.96287f29.js"><link rel="prefetch" href="/assets/js/147.177cc194.js"><link rel="prefetch" href="/assets/js/148.f711a11e.js"><link rel="prefetch" href="/assets/js/149.761c10a5.js"><link rel="prefetch" href="/assets/js/15.1cb50e47.js"><link rel="prefetch" href="/assets/js/150.108851e8.js"><link rel="prefetch" href="/assets/js/151.64fb9a9f.js"><link rel="prefetch" href="/assets/js/152.e1236753.js"><link rel="prefetch" href="/assets/js/153.90b0a91d.js"><link rel="prefetch" href="/assets/js/154.41753e57.js"><link rel="prefetch" href="/assets/js/155.2995476e.js"><link rel="prefetch" href="/assets/js/156.a56a27d9.js"><link rel="prefetch" href="/assets/js/157.fee8c7c5.js"><link rel="prefetch" href="/assets/js/158.e82c6fe9.js"><link rel="prefetch" href="/assets/js/159.a32d799f.js"><link rel="prefetch" href="/assets/js/16.b9d5fc78.js"><link rel="prefetch" href="/assets/js/160.cbed2f9a.js"><link rel="prefetch" href="/assets/js/161.f0ed1a7f.js"><link rel="prefetch" href="/assets/js/162.43b13289.js"><link rel="prefetch" href="/assets/js/17.478abaa2.js"><link rel="prefetch" href="/assets/js/18.0d22a60a.js"><link rel="prefetch" href="/assets/js/19.dd9ae4e0.js"><link rel="prefetch" href="/assets/js/20.e538cabf.js"><link rel="prefetch" href="/assets/js/21.87433c02.js"><link rel="prefetch" href="/assets/js/22.febfd936.js"><link rel="prefetch" href="/assets/js/23.7a8cb3d2.js"><link rel="prefetch" href="/assets/js/24.6ea939dc.js"><link rel="prefetch" href="/assets/js/25.d7b4b654.js"><link rel="prefetch" href="/assets/js/26.f3987393.js"><link rel="prefetch" href="/assets/js/27.00086a63.js"><link rel="prefetch" href="/assets/js/28.d5ed0d5c.js"><link rel="prefetch" href="/assets/js/29.c3772ad7.js"><link rel="prefetch" href="/assets/js/30.1a9f6872.js"><link rel="prefetch" href="/assets/js/31.30f1f2f1.js"><link rel="prefetch" href="/assets/js/32.38f5346d.js"><link rel="prefetch" href="/assets/js/33.21c22120.js"><link rel="prefetch" href="/assets/js/34.3271100c.js"><link rel="prefetch" href="/assets/js/35.c73d2e2e.js"><link rel="prefetch" href="/assets/js/36.5569d7be.js"><link rel="prefetch" href="/assets/js/37.0abec68a.js"><link rel="prefetch" href="/assets/js/38.28c93b40.js"><link rel="prefetch" href="/assets/js/39.738da38b.js"><link rel="prefetch" href="/assets/js/4.4f1d68ce.js"><link rel="prefetch" href="/assets/js/40.3724e944.js"><link rel="prefetch" href="/assets/js/41.a6e8a8fb.js"><link rel="prefetch" href="/assets/js/42.28f5bf7f.js"><link rel="prefetch" href="/assets/js/43.0be4aa0a.js"><link rel="prefetch" href="/assets/js/44.6e44dcf3.js"><link rel="prefetch" href="/assets/js/45.1b04c7d7.js"><link rel="prefetch" href="/assets/js/46.3789f929.js"><link rel="prefetch" href="/assets/js/47.3e5bbfb5.js"><link rel="prefetch" href="/assets/js/48.ec4e8fb7.js"><link rel="prefetch" href="/assets/js/49.b301f41b.js"><link rel="prefetch" href="/assets/js/5.c2b80783.js"><link rel="prefetch" href="/assets/js/50.a2c0e24f.js"><link rel="prefetch" href="/assets/js/51.f1ceec7d.js"><link rel="prefetch" href="/assets/js/52.3f4c0658.js"><link rel="prefetch" href="/assets/js/53.b6f9d487.js"><link rel="prefetch" href="/assets/js/54.0852f33c.js"><link rel="prefetch" href="/assets/js/55.d7bcbf31.js"><link rel="prefetch" href="/assets/js/56.90a1d83e.js"><link rel="prefetch" href="/assets/js/57.98c7689c.js"><link rel="prefetch" href="/assets/js/58.b9c57625.js"><link rel="prefetch" href="/assets/js/59.24431ae1.js"><link rel="prefetch" href="/assets/js/60.f4f49ffd.js"><link rel="prefetch" href="/assets/js/61.b3f9d421.js"><link rel="prefetch" href="/assets/js/62.ca0b298a.js"><link rel="prefetch" href="/assets/js/63.103bc66e.js"><link rel="prefetch" href="/assets/js/64.cd301999.js"><link rel="prefetch" href="/assets/js/65.e69d282c.js"><link rel="prefetch" href="/assets/js/66.470bca2f.js"><link rel="prefetch" href="/assets/js/67.7b5e1c17.js"><link rel="prefetch" href="/assets/js/68.2df6b779.js"><link rel="prefetch" href="/assets/js/69.0eea1233.js"><link rel="prefetch" href="/assets/js/7.1ef5803e.js"><link rel="prefetch" href="/assets/js/70.74c64852.js"><link rel="prefetch" href="/assets/js/71.7df088ff.js"><link rel="prefetch" href="/assets/js/72.197fb578.js"><link rel="prefetch" href="/assets/js/73.bce8aa41.js"><link rel="prefetch" href="/assets/js/74.f2bc6486.js"><link rel="prefetch" href="/assets/js/75.81812417.js"><link rel="prefetch" href="/assets/js/76.e5029cb4.js"><link rel="prefetch" href="/assets/js/77.3b009434.js"><link rel="prefetch" href="/assets/js/78.064b0a47.js"><link rel="prefetch" href="/assets/js/79.e614eca8.js"><link rel="prefetch" href="/assets/js/8.0030441b.js"><link rel="prefetch" href="/assets/js/80.c6874836.js"><link rel="prefetch" href="/assets/js/81.25ab8cdd.js"><link rel="prefetch" href="/assets/js/82.17e3df44.js"><link rel="prefetch" href="/assets/js/83.90931834.js"><link rel="prefetch" href="/assets/js/84.669f07da.js"><link rel="prefetch" href="/assets/js/85.57541424.js"><link rel="prefetch" href="/assets/js/86.52843e3b.js"><link rel="prefetch" href="/assets/js/88.31647ba2.js"><link rel="prefetch" href="/assets/js/89.730c5192.js"><link rel="prefetch" href="/assets/js/9.80e15157.js"><link rel="prefetch" href="/assets/js/90.02fece9e.js"><link rel="prefetch" href="/assets/js/91.f9840046.js"><link rel="prefetch" href="/assets/js/92.2833828f.js"><link rel="prefetch" href="/assets/js/93.0599c4c5.js"><link rel="prefetch" href="/assets/js/94.174f6675.js"><link rel="prefetch" href="/assets/js/95.0a4fe2de.js"><link rel="prefetch" href="/assets/js/96.b522890e.js"><link rel="prefetch" href="/assets/js/97.7d058c76.js"><link rel="prefetch" href="/assets/js/98.11a8cfa3.js"><link rel="prefetch" href="/assets/js/99.de69a8f6.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.f103f594.js">
    <link rel="stylesheet" href="/assets/css/0.styles.da6b8340.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/en_US/" class="home-link router-link-active"><img src="/v2ray.png" alt="V2Fly.org" class="logo"> <span class="site-name can-hide">V2Fly.org</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/en_US/guide/start.html" class="nav-link">
  Quick Start
</a></div><div class="nav-item"><a href="/en_US/v5/config/overview.html" class="nav-link">
  Config Reference
</a></div><div class="nav-item"><a href="/en_US/awesome/tools.html" class="nav-link">
  Tools
</a></div><div class="nav-item"><a href="/en_US/developer/intro/compile.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Developer Guide
</a></div><div class="nav-item"><a href="https://guide.v2fly.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  New concise guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="选择语言" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="选择语言" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/developer/intro/compile.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/en_US/developer/intro/compile.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li></ul></div></div> <a href="https://github.com/v2fly" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/en_US/guide/start.html" class="nav-link">
  Quick Start
</a></div><div class="nav-item"><a href="/en_US/v5/config/overview.html" class="nav-link">
  Config Reference
</a></div><div class="nav-item"><a href="/en_US/awesome/tools.html" class="nav-link">
  Tools
</a></div><div class="nav-item"><a href="/en_US/developer/intro/compile.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Developer Guide
</a></div><div class="nav-item"><a href="https://guide.v2fly.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  New concise guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="选择语言" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="选择语言" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/developer/intro/compile.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/en_US/developer/intro/compile.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li></ul></div></div> <a href="https://github.com/v2fly" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Developer Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/en_US/developer/intro/compile.html" aria-current="page" class="active sidebar-link">The first step: learn to compile</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en_US/developer/intro/compile.html#pre-work" class="sidebar-link">Pre-work</a></li><li class="sidebar-sub-header"><a href="/en_US/developer/intro/compile.html#multiple-build-methods" class="sidebar-link">Multiple build methods</a></li></ul></li><li><a href="/en_US/developer/intro/design.html" class="sidebar-link">Step 2: Understand the architecture</a></li><li><a href="/en_US/developer/intro/guide.html" class="sidebar-link">Step 3: Start development</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Protocol Details</span> <!----></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="the-first-step-learn-to-compile"><a href="#the-first-step-learn-to-compile" class="header-anchor">#</a> The first step: learn to compile</h1> <h2 id="pre-work"><a href="#pre-work" class="header-anchor">#</a> Pre-work</h2> <p>V2Ray uses <a href="https://golang.org/" target="_blank" rel="noopener noreferrer">Golang<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> as the main programming language, and the team release process uses <a href="https://github.com/features/actions" target="_blank" rel="noopener noreferrer">GitHub Actions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> as the build tool. It is recommended to use Linux or macOS for development. A small amount of scripts may not run properly on Windows.</p> <ul><li>Install Golang: <a href="https://golang.org/doc/install" target="_blank" rel="noopener noreferrer">golang.org/doc/install<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (If you can’t access it, you can choose <a href="https://golang.google.cn/doc/install" target="_blank" rel="noopener noreferrer">Domestic Mirror<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</li></ul> <h2 id="multiple-build-methods"><a href="#multiple-build-methods" class="header-anchor">#</a> Multiple build methods</h2> <h3 id="pull-v2ray-source-code-and-dependencies"><a href="#pull-v2ray-source-code-and-dependencies" class="header-anchor">#</a> Pull V2Ray source code and dependencies</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/v2fly/v2ray-core.git
<span class="token builtin class-name">cd</span> v2ray-core <span class="token operator">&amp;&amp;</span> go mod download
</code></pre></div><p>Note: In the network environment where Google cannot be accessed normally, and dependencies cannot be pulled normally, you need to set <code>GOPROXY</code> first:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>go <span class="token function">env</span> -w <span class="token assign-left variable">GOPROXY</span><span class="token operator">=</span>https://goproxy.io,direct
</code></pre></div><h3 id="manual-build"><a href="#manual-build" class="header-anchor">#</a> Manual build</h3> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The commands in this section need to be run in the root directory of the V2Ray project.</p></div> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">CGO_ENABLED</span><span class="token operator">=</span><span class="token number">0</span> go build -o <span class="token environment constant">$HOME</span>/v2ray -trimpath -ldflags <span class="token string">&quot;-s -w -buildid=&quot;</span> ./main
<span class="token assign-left variable">CGO_ENABLED</span><span class="token operator">=</span><span class="token number">0</span> go build -o <span class="token environment constant">$HOME</span>/v2ctl -trimpath -ldflags <span class="token string">&quot;-s -w -buildid=&quot;</span> -tags confonly ./infra/control/main
</code></pre></div><p>Running the above command will generate the newly-built <code>v2ray</code> and <code>v2ctl</code> executable files in the current user's <code>$HOME</code> directory, which can be used normally.</p> <p>Building executable files for other CPU architectures and other systems (Windows/macOS) belongs to the cross-compilation process of Golang, which mainly controls the two environment variables <code>GOOS</code> / <code>GOARCH</code>. For details, please refer to Golang related documents.</p> <p>The following demonstrates how to build executable files of <code>v2ray.exe</code>, <code>wv2ray.exe</code>, and <code>v2ctl.exe</code> that can run on Windows 64-bit systems (non-Windows systems do not need to compile <code>wv2ray.exe</code>):</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">CGO_ENABLED</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">GOOS</span><span class="token operator">=</span>windows <span class="token assign-left variable">GOARCH</span><span class="token operator">=</span>amd64 go build -o <span class="token environment constant">$HOME</span>/v2ray.exe -trimpath -ldflags <span class="token string">&quot;-s -w -buildid=&quot;</span> ./main
<span class="token assign-left variable">CGO_ENABLED</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">GOOS</span><span class="token operator">=</span>windows <span class="token assign-left variable">GOARCH</span><span class="token operator">=</span>amd64 go build -o <span class="token environment constant">$HOME</span>/wv2ray.exe -trimpath -ldflags <span class="token string">&quot;-s -w -H windowsgui -buildid=&quot;</span> ./main
<span class="token assign-left variable">CGO_ENABLED</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">GOOS</span><span class="token operator">=</span>windows <span class="token assign-left variable">GOARCH</span><span class="token operator">=</span>amd64 go build -o <span class="token environment constant">$HOME</span>/v2ctl.exe -trimpath -ldflags <span class="token string">&quot;-s -w -buildid=&quot;</span> -tags confonly ./infra/control/main
</code></pre></div><p>Execute <code>go tool dist list</code> to view all supported systems and architectures. Some architectures also need to control other environment variables, such as the <code>GOARM</code> of <code>arm</code>, which is used to set the version of the CPU floating-point coprocessor at runtime.</p> <h3 id="script-build"><a href="#script-build" class="header-anchor">#</a> Script build</h3> <p>The above manual construction is only the v2ray executable program itself. The distribution package also contains address libraries (<code>geoip.dat</code>, <code>geosite.dat</code>), configuration files and other files. Using packaging scripts can easily produce release packages suitable for multiple operating systems and multiple CPU architectures.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">wget</span> https://raw.githubusercontent.com/v2fly/v2ray-core/master/release/user-package.sh
<span class="token function">chmod</span> <span class="token number">755</span> user-package.sh
./user-package.sh
</code></pre></div><p>Execute the above script directly to generate an executable file suitable for 64-bit linux operating system in the current directory. The file name is similar to <code>v2ray-custom-linux-amd64-20201008-104530.zip</code>, which is the release package.</p> <p>You can also use some personalized parameters to customize the release package:</p> <ul><li><code>windows</code> build a release package for the Windows version</li> <li><code>darwin</code> build the release package of darwin (macOS) version</li> <li><code>tgz</code> release package uses <code>tar.gz</code> format</li> <li><code>386</code> Build a 32-bit executable</li> <li><code>arm</code> build executable file suitable for arm architecture CPU</li> <li><code>mips</code> build executable files suitable for mips architecture CPU, please refer to Golang cross-compilation document</li> <li><code>nodat</code> does not include domain name/IP database <code>geoip.dat</code>, <code>geosite.dat</code> (can reduce the size of the release package)</li> <li><code>noconf</code> does not include example JSON, Systemd/Systemv and other configuration files</li> <li><code>nosource</code> Do not pull the V2Ray source code from the remote end (this option is suitable for the situation where the V2Ray source code is available locally. You must enter the local v2ray code root directory before running the script)</li></ul> <p>The above parameters have no order requirements, only need to be passed to the script as needed. The following is an example of building a release package suitable for 32-bit Windows operating system, without address library and without sample configuration:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./user-package.sh windows <span class="token number">386</span> nodat noconf
</code></pre></div><p>For the v2ray built by the script, the startup information will become the time when the user was compiled to distinguish:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>V2Ray <span class="token number">4.30</span>.0 <span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token number">20201008</span>-104530
A unified platform <span class="token keyword">for</span> anti-censorship.
</code></pre></div><p>Users can also customize the <code>codename</code> to customize their own version:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./user-package.sh windows <span class="token number">386</span> nodat noconf <span class="token assign-left variable">codename</span><span class="token operator">=</span>custom-codename
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/v2fly/v2fly-github-io/edit/master/docs/en_US/developer/intro/compile.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/22/2021, 12:18:35 AM</span></div></footer> <div class="contributors" style="display:none;" data-v-6000aab7><span data-v-6000aab7>Contributors</span> </div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/en_US/developer/intro/design.html">
        Step 2: Understand the architecture
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.9059fb9d.js" defer></script><script src="/assets/js/3.c14aff60.js" defer></script><script src="/assets/js/6.7df7f33f.js" defer></script><script src="/assets/js/87.fa85aae7.js" defer></script>
  </body>
</html>
