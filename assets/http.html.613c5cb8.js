import{_ as t,r as a,o as c,c as i,a as e,b as p,w as r,e as o,d as n}from"./app.1e1d5899.js";const u={},l=o(`<h1 id="http" tabindex="-1"><a class="header-anchor" href="#http" aria-hidden="true">#</a> HTTP</h1><ul><li>Name: <code>http</code></li><li>Type: Inbound/Outbound</li></ul><p>HTTP&#39;s configuration is divided into two parts, <code>InboundConfigurationObject</code> and <code>OutboundConfigurationObject</code>, corresponding to the <code>settings</code> element in the inbound and outbound protocol configurations respectively.</p><h2 id="inboundconfigurationobject" tabindex="-1"><a class="header-anchor" href="#inboundconfigurationobject" aria-hidden="true">#</a> InboundConfigurationObject</h2><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;timeout&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;accounts&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my-username&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;pass&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my-password&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;allowTransparent&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;userLevel&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>Note that although inbound HTTP can provide public services, the HTTP protocol is not encrypted and is thus not suitable for transmission over public networks, as it would be highly vulnerable to MITM attacks. A more meaningful use of inbound HTTP is to open the inbound only to the local machine (loopback), Local Area Network, or other internal networks to provide services for other programs or trusted devices.</p></div><blockquote><p><code>timeout</code>: number</p></blockquote><p>Timeout for client HTTP requests in seconds, 0 for no timeout. The default value is 300. (Since v3.1) Equivalent to the <code>connIdle</code> policy of the corresponding user level.</p><blockquote><p><code>accounts</code>: [<a href="#accountobject">AccountObject</a>]</p></blockquote><p>An array, each element of which is an <a href="#AccountObject">AccountObject</a>. The default value is empty.</p><p>When <code>accounts</code> is non-empty, HTTP will perform Basic Authentication (<code>WWW-Authenticate</code>) on inbound connections.</p><blockquote><p><code>allowTransparent</code>: true | false</p></blockquote><p>When set to <code>true</code>, all HTTP requests will be forwarded, not just proxy requests. If incorrectly configured, enabling this option may cause a loop.</p><blockquote><p><code>userLevel</code>: number</p></blockquote>`,14),d=n("User level, default value is "),b=e("code",null,"0",-1),v=n(". See "),h=n("Local Policy"),k=n("."),m=o(`<h3 id="accountobject" tabindex="-1"><a class="header-anchor" href="#accountobject" aria-hidden="true">#</a> AccountObject</h3><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USERNAME&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pass&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PASSWORD&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>user</code>: string</p></blockquote><p>Username, can be any string. Required.</p><blockquote><p><code>pass</code>: string</p></blockquote><p>Password, can be any string. Required.</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>In Linux, you can set the following environment variables to use a global HTTP proxy in the current user session (most but not all applications respect this setting).</p><ul><li><code>export http_proxy=http://127.0.0.1:8080/</code> (the address must be changed to the HTTP inbound proxy address you configured)</li><li><code>export https_proxy=$http_proxy</code></li></ul></div><h2 id="outboundconfigurationobject" tabindex="-1"><a class="header-anchor" href="#outboundconfigurationobject" aria-hidden="true">#</a> OutboundConfigurationObject</h2><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;servers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;192.168.108.1&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">3128</span><span class="token punctuation">,</span>
            <span class="token property">&quot;users&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USERNAME&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;pass&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PASSWORD&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(Since v4.21.0)</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>Note that although outbound HTTP can be used as a configuration for external access, the HTTP protocol is not encrypted and is thus not suitable for usage over public networks. Additionally, because HTTP does not support UDP routing, it will limit available networking functionality for supplementary protocols (DNS queries are unavailable for example). A more meaningful use of outbound HTTP is in special cases, where only an HTTP proxy can be used to access an internal network from an external connection, as a pre-proxy for connections using other protocols (see <code>OutboundObject</code>&#39;s <code>ProxySettingsObject</code>).</p></div><p>(Since v4.21.1)</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>Since v4.20.0, outbound HTTP was added as a pre-proxy for other protocols, albeit lacking support for TLS configurations. From v4.21.1 onwards, HTTP will also inherits the effect of <code>security</code> and <code>tlsSettings</code> in <code>streamSettings</code>. Currently, protocols VMESS/TCP, VMESS/TCP-TLS, and Shadowsocks can be used for such a pre-proxy, and pre-proxy usage of other transport protocols are pending implementation in future versions.</p></div><blockquote><p><code>servers</code>: array</p></blockquote><p>An array of HTTP proxies to use. If multiple items are present, they are picked via round-robin.</p><blockquote><p><code>address</code>: string</p></blockquote><p>Remote HTTP proxy server address. Required.</p><blockquote><p><code>port</code>: int</p></blockquote><p>Remote HTTP proxy server port. Required.</p><blockquote><p><code>user</code>: [<a href="#accountobject">AccountObject</a>]</p></blockquote><p>An array of credentials , each element of which is an <a href="#AccountObject">AccountObject</a>. Optional, default is no authentication.</p>`,21);function q(f,g){const s=a("RouterLink");return c(),i("div",null,[l,e("p",null,[d,b,v,p(s,{to:"/en_US/config/policy.html"},{default:r(()=>[h]),_:1}),k]),m])}const T=t(u,[["render",q],["__file","http.html.vue"]]);export{T as default};
