import{_ as p,r as c,o as r,c as l,a as n,b as o,w as a,e as t,d as e}from"./app.44e1f99f.js";const d={},u=t(`<h1 id="inbounds" tabindex="-1"><a class="header-anchor" href="#inbounds" aria-hidden="true">#</a> Inbounds</h1><p>Inbound connections are used to receive data from clients (such as browsers or downstream proxy servers). The available protocols can be found in the protocols list.</p><h2 id="inboundobject" tabindex="-1"><a class="header-anchor" href="#inboundobject" aria-hidden="true">#</a> InboundObject</h2><p><code>InboundObject</code> corresponds to an object of the <code>inbounds</code> array in the configuration file.</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;listen&quot;</span><span class="token operator">:</span> <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">1080</span><span class="token punctuation">,</span>
    <span class="token property">&quot;protocol&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PROTOCOL&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;streamSettings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tag&quot;</span><span class="token operator">:</span> <span class="token string">&quot;LABEL&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sniffing&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;enabled&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">&quot;destOverride&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;http&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;tls&quot;</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;metadataOnly&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;allocate&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;strategy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;always&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;refresh&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token property">&quot;concurrency&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>listen</code>: address</p></blockquote><p>A specific IP address from which to listen for inbound connections. The default value <code>&quot;0.0.0.0&quot;</code> means that all connections from all network interfaces are accepted. Otherwise, the address of an existing network interface must be specified.</p>`,7),b=e("Starting from v4.32.0, a Unix domain socket is also supported, in the format of an absolute path, such as "),h=n("code",null,'"/dev/shm/domain.socket"',-1),m=e(", with "),k=n("code",null,'"@"',-1),f=e(" prepended to represent "),v={href:"https://www.man7.org/linux/man-pages/man7/unix.7.html",target:"_blank",rel:"noopener noreferrer"},q=e("abstract sockets"),g=e(", or "),_=n("code",null,'"@@"',-1),y=e(" to represent abstract sockets with padding."),w=t("<p>While a Unix domain socket is configured, <code>port</code> and <code>allocate</code> will be ignored, and currently only the protocols VLESS, VMess, and Trojan, as well as the transports TCP, WebSocket, and HTTP/2 are supported.</p><blockquote><p><code>port</code>: number | &quot;env:variable&quot; | string</p></blockquote><p>The port to listen for incoming connections on. Accepted formats are as follows:</p><ul><li>Integer: Actual port number.</li><li>Environment variable: Starts with <code>&quot;env:&quot;</code>, followed by the name of an environment variable, such as <code>&quot;env:PORT&quot;</code>. V2Ray parses this environment variable as a string.</li><li>String: Can be a numeric string, such as <code>&quot;1234&quot;</code>; or a numeric range, such as <code>&quot;5-10&quot;</code>, for ports 5 to 10, a total of 6 ports.</li></ul><p>When there is only one port specified, V2Ray listens for inbound connections on this port. When a port range is specified, behaviour will depend on the <code>allocate</code> setting.</p><blockquote><p><code>protocol</code>: string</p></blockquote><p>The name of the connection protocol. Available values are listed in the protocol list.</p><blockquote><p><code>settings</code>: InboundConfigurationObject</p></blockquote><p>Protocol-specific configurations, if applicable. See <code>InboundConfigurationObject</code> in each protocol.</p>",9),j=n("code",null,"streamSettings",-1),S=e(": "),O=e("StreamSettingsObject"),x=e("Transport-specific configurations"),T=t(`<blockquote><p><code>tag</code>: string</p></blockquote><p>The label or identifier of this inbound connection, used to locate this connection in other configurations. When it is not empty, its value must be unique among all <code>tag</code>s.</p><blockquote><p><code>sniffing</code>: <a href="#sniffingobject">SniffingObject</a></p></blockquote><p>Configure whether the server should detect the type of incoming traffic, and change behaviour for specific protocols.</p><blockquote><p><code>allocate</code>: <a href="#allocateobject">AllocateObject</a></p></blockquote><p>Configure how the server should bind to multiple ports, if applicable.</p><h2 id="sniffingobject" tabindex="-1"><a class="header-anchor" href="#sniffingobject" aria-hidden="true">#</a> SniffingObject</h2><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;enabled&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;destOverride&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;http&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;tls&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;metadataOnly&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>enabled</code>: true | false</p></blockquote><p>Whether to enable detection of and routing by incoming traffic type.</p><blockquote><p><code>destOverride</code>: \\[&quot;http&quot; | &quot;tls&quot; | &quot;quic&quot; | &quot;fakedns&quot; | &quot;fakedns+others&quot;\\]</p></blockquote><p>If traffic of a specific type is detected, the destination of the current connection is rerouted according to the included destination address.</p><p>The <code>fakedns+others</code> option first attempts to query the FakeDNS virtual DNS server. If the destination IP address is within the targeted IP range of FakeDNS, but no corresponding DNS record is actually available, <code>http</code>, <code>tls</code>, or <code>quic</code> are used depending on original protocol. This option is only valid when <code>metadataOnly</code> is set to <code>false</code>. (v4.38.0+)</p><blockquote><p><code>metadataOnly</code>: true | false</p></blockquote><p>Whether to only use protocol metadata to infer the target destination without intercepting actual traffic content. Only metadata detection modules will be active.</p><p>When enabled, the client must first send data before the proxy server actually establishes a connection. This behaviour is incompatible with protocols that requires the server to initiate a connection from the first inbound message, such as SMTP.</p>`,16),I={class:"custom-container tip"},C=n("p",{class:"custom-container-title"},"TIP",-1),P=e("Virtual DNS server"),V=e(" is a metadata traffic destination detection module. Traffic detection modules need to disable "),N=n("code",null,"metadataOnly",-1),A=e(" in order for it to function."),L=t(`<h2 id="allocateobject" tabindex="-1"><a class="header-anchor" href="#allocateobject" aria-hidden="true">#</a> AllocateObject</h2><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;strategy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;always&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;refresh&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token property">&quot;concurrency&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>strategy</code>: &quot;always&quot; | &quot;random&quot;</p></blockquote><p>Chooses the port allocation strategy to use. <code>&quot;always&quot;</code> will always allocate every specified port, and V2Ray will listen to as many ports as specified in <code>port</code>. <code>&quot;random&quot;</code> will randomly bind ports, randomly selecting as many as <code>concurrency</code> ports from the <code>port</code> range every <code>refresh</code> minutes.</p><blockquote><p><code>refresh</code>: number</p></blockquote><p>The interval of random port refresh, in minutes. The minimum is <code>2</code>, and it is recommended to be set to <code>5</code>. Ignored when strategy is not set to <code>random</code>.</p><blockquote><p><code>concurrency</code>: number</p></blockquote><p>Amount of ports to randomly bind to at any given time. The minimum is <code>1</code>, the maximum is 1/3 of the total port range, and it is recommended to be set to <code>3</code>.</p>`,8);function W(R,E){const i=c("ExternalLinkIcon"),s=c("RouterLink");return r(),l("div",null,[u,n("p",null,[b,h,m,k,f,n("a",v,[q,o(i)]),g,_,y]),w,n("blockquote",null,[n("p",null,[j,S,o(s,{to:"/en_US/config/transport.html#streamsettingsobject"},{default:a(()=>[O]),_:1})])]),n("p",null,[o(s,{to:"/en_US/config/transport.html#StreamSettingsObject"},{default:a(()=>[x]),_:1})]),T,n("div",I,[C,n("p",null,[o(s,{to:"/en_US/config/fakedns.html"},{default:a(()=>[P]),_:1}),V,N,A])]),L])}const U=p(d,[["render",W],["__file","inbounds.html.vue"]]);export{U as default};
