(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{277:function(t,e,s){"use strict";s.r(e);var a=s(0),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"vless"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vless"}},[t._v("#")]),t._v(" VLESS")]),t._v(" "),s("ul",[s("li",[t._v("Name: "),s("code",[t._v("vless")])]),t._v(" "),s("li",[t._v("Type: Inbound / Outbound")])]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("VLESS is currently unencrypted. Only use over a secured or private channel, such as TLS. VLESS does not currently support sharing.")])]),t._v(" "),s("p",[t._v("VLESS is an inbound/outbound protocol. VLESS is a stateless lightweight transport which is divided into inbound and outbound components, and can act as a bridge between a V2Ray client and a server.")]),t._v(" "),s("p",[t._v("Unlike "),s("RouterLink",{attrs:{to:"/en_US/config/protocols/vmess.html"}},[t._v("VMess")]),t._v(", VLESS does not rely on system time. The authentication method also is UUID-based, but does not require alterId.")],1),t._v(" "),s("p",[t._v("VLESS's configuration is divided into two parts, "),s("code",[t._v("InboundConfigurationObject")]),t._v(" and "),s("code",[t._v("OutboundConfigurationObject")]),t._v(", corresponding to the "),s("code",[t._v("settings")]),t._v(" element in the inbound and outbound protocol configuration respectively.")]),t._v(" "),s("h2",{attrs:{id:"outboundconfigurationobject"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#outboundconfigurationobject"}},[t._v("#")]),t._v(" OutboundConfigurationObject")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"vnext"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"address"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"example.com"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"port"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("443")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"users"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"27848739-7e62-4138-9fd3-098a63964b6b"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"encryption"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"none"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"level"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("blockquote",[s("p",[s("code",[t._v("vnext")]),t._v(": [ "),s("a",{attrs:{href:"#serverobject"}},[t._v("ServerObject")]),t._v(" ]")])]),t._v(" "),s("p",[t._v("An array, each of which is a "),s("a",{attrs:{href:"#ServerObject"}},[t._v("ServerObject")]),t._v(".")]),t._v(" "),s("h3",{attrs:{id:"serverobject"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#serverobject"}},[t._v("#")]),t._v(" ServerObject")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"address"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"example.com"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"port"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("443")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"users"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("blockquote",[s("p",[s("code",[t._v("address")]),t._v(": address")])]),t._v(" "),s("p",[t._v("Remote VLESS server address. Supports IPv4, IPv6, or domain names.")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("port")]),t._v(": number")])]),t._v(" "),s("p",[t._v("Remote VLESS server port.")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("users")]),t._v(": [ "),s("a",{attrs:{href:"#userobject"}},[t._v("UserObject")]),t._v(" ]")])]),t._v(" "),s("p",[t._v("An array of users recognized by the server. Each element is a "),s("a",{attrs:{href:"#UserObject"}},[t._v("UserObject")]),t._v(".")]),t._v(" "),s("h3",{attrs:{id:"userobject"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#userobject"}},[t._v("#")]),t._v(" UserObject")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"27848739-7e62-4138-9fd3-098a63964b6b"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"encryption"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"none"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"level"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("blockquote",[s("p",[s("code",[t._v("id")]),t._v(": string")])]),t._v(" "),s("p",[t._v("VLESS's user ID must be a valid UUID, which you can generate using "),s("RouterLink",{attrs:{to:"/en_US/awesome/tools.html"}},[t._v("online tools")]),t._v(".")],1),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("encryption")]),t._v(': "none"')])]),t._v(" "),s("p",[t._v("Currently, only "),s("code",[t._v('"none"')]),t._v(" is available, but it is a required field. This requirement is to remind users that there is no encryption currently available, and also to prevent users from incorrectly configuring the encryption option when it becomes available in the future, accidentally configuring the tunnel to use plaintext only.")]),t._v(" "),s("p",[t._v("If "),s("code",[t._v("encryption")]),t._v(" is not set correctly, you will receive an error message when using "),s("code",[t._v("v2ray")]),t._v(" or "),s("code",[t._v("-test")]),t._v(".")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("level")]),t._v(": number")])]),t._v(" "),s("p",[t._v("User level, default is "),s("code",[t._v("0")]),t._v(". See "),s("RouterLink",{attrs:{to:"/en_US/config/policy.html"}},[t._v("Local Policy")]),t._v(".")],1),t._v(" "),s("h2",{attrs:{id:"inboundconfigurationobject"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#inboundconfigurationobject"}},[t._v("#")]),t._v(" InboundConfigurationObject")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"clients"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"27848739-7e62-4138-9fd3-098a63964b6b"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"level"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"email"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"love@v2fly.org"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"decryption"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"none"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"fallbacks"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dest"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("blockquote",[s("p",[s("code",[t._v("clients")]),t._v(": [ "),s("a",{attrs:{href:"#clientobject"}},[t._v("ClientObject")]),t._v(" ]")])]),t._v(" "),s("p",[t._v("An array of users recognized by the server. Each element is a "),s("a",{attrs:{href:"#ClientObject"}},[t._v("ClientObject")]),t._v(".")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("decryption")]),t._v(': "none"')])]),t._v(" "),s("p",[t._v("The decryption algorithm needs to be the same as the client's setting. For now, you also need to fill in "),s("code",[t._v('"none"')]),t._v(", as it is a required field (see also "),s("a",{attrs:{href:"#UserObject"}},[t._v("UserObject")]),t._v("). The options of decryption and encryption are different, because if encryption is enabled, the server needs to decrypt it first to know which user it is.")]),t._v(" "),s("p",[t._v("If you do not set the value of decryption correctly, you will receive an error message when using "),s("code",[t._v("v2ray")]),t._v(" or "),s("code",[t._v("-test")]),t._v(".")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("fallbacks")]),t._v(": [ "),s("a",{attrs:{href:"#fallbackobject"}},[t._v("FallbackObject")]),t._v(" ]")])]),t._v(" "),s("p",[t._v("An array containing a series of fallback stream configurations (optional).")]),t._v(" "),s("h3",{attrs:{id:"clientobject"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#clientobject"}},[t._v("#")]),t._v(" ClientObject")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"27848739-7e62-4138-9fd3-098a63964b6b"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"level"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"email"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"love@v2fly.org"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("blockquote",[s("p",[s("code",[t._v("id")]),t._v(": string")])]),t._v(" "),s("p",[t._v("The VLESS user ID, which must be a valid UUID. You can also use "),s("RouterLink",{attrs:{to:"/en_US/guide/command.html#v2ctl"}},[t._v("V2Ctl")]),t._v(" to generate it.")],1),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("level")]),t._v(": number")])]),t._v(" "),s("p",[t._v("User level, default is "),s("code",[t._v("0")]),t._v(". See "),s("RouterLink",{attrs:{to:"/en_US/config/policy.html"}},[t._v("Local Policy")]),t._v(".")],1),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("email")]),t._v(": string")])]),t._v(" "),s("p",[t._v("The user's email is used to distinguish between different users in metrics (logs, statistics, etc.).")]),t._v(" "),s("h2",{attrs:{id:"fallbackobject"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fallbackobject"}},[t._v("#")]),t._v(" FallbackObject")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"alpn"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"path"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dest"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"xver"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("Since v4.27.2, "),s("code",[t._v("fallbacks")]),t._v(" is now an array. This is the configuration description of one of its child elements, and the parameters are different from the old fallback element.")]),t._v(" "),s("p",[s("code",[t._v("fallbacks")]),t._v(" elements are optional and can only be used in the TCP+TLS transport combination.")])]),t._v(" "),s("p",[s("strong",[t._v("When this item has child elements, "),s("RouterLink",{attrs:{to:"/en_US/config/transport.html#TlsObject"}},[t._v("Inbound TLS")]),t._v(" needs to be set to "),s("code",[t._v('"alpn":["http/1.1"]')]),t._v(".")],1)]),t._v(" "),s("p",[t._v("Usually, you need to set a default fallback with "),s("code",[t._v("alpn")]),t._v(" and "),s("code",[t._v("path")]),t._v(" both omitted, and then configure other traffic splitting as needed.")]),t._v(" "),s("p",[t._v("VLESS will forward traffic that is decrypted if the length of the first packet of TLS "),s("code",[t._v("< 18")]),t._v(", if the protocol version is invalid, or if the authentication fails, to the address specified by "),s("code",[t._v("dest")]),t._v(".")]),t._v(" "),s("p",[t._v("Other unsupported transport combinations must not use the "),s("code",[t._v("fallbacks")]),t._v(" or its "),s("code",[t._v("FallbackObject")]),t._v("s. This will disable Fallback, and if VLESS detects any fallback conditions being met, it will simply disconnect.")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("alpn")]),t._v(": string")])]),t._v(" "),s("p",[t._v('Pattern to match the TLS ALPN negotiation result. Empty for any, default to "".')]),t._v(" "),s("p",[t._v("When necessary, VLESS will try to read the TLS ALPN negotiation result, and if successful, output "),s("code",[t._v("realAlpn =")]),t._v(" to the log.")]),t._v(" "),s("p",[s("code",[t._v("alpn")]),t._v(" can be used to work around the problem whereby Nginx's "),s("code",[t._v("h2c")]),t._v(" service is incompatible with HTTP/1.1. Nginx needs to write two lines for listen, one for HTTP/1.1 and one for "),s("code",[t._v("h2c")]),t._v(".")]),t._v(" "),s("p",[t._v("Note: When "),s("code",[t._v('"h2"')]),t._v(" is set in "),s("code",[t._v("alpn")]),t._v(", "),s("RouterLink",{attrs:{to:"/en_US/config/transport.html#tlsobject"}},[t._v("Inbound TLS")]),t._v(" needs to be set to "),s("code",[t._v('"alpn":["h2","http/1.1"]')]),t._v(", to support "),s("code",[t._v("h2")]),t._v(" access.")],1),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("alpn")]),t._v(" set in Fallback is to match the actual negotiated ALPN, while the "),s("code",[t._v("alpn")]),t._v(" set in Inbound TLS is the optional ALPN list during the handshake, which have different meanings.")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("path")]),t._v(": string")])]),t._v(" "),s("p",[t._v("Try to match the first packet HTTP hyperlink, empty for any. Default to empty, non-empty values must start with "),s("code",[t._v('"/"')]),t._v(". Does not support "),s("code",[t._v("h2c")]),t._v(".")]),t._v(" "),s("p",[t._v("When necessary, VLESS will try to look at the hyperlink (no more than 55 bytes; fast algorithm, incomplete parsing of actual link), and if successful, output the info "),s("code",[t._v("realPath =")]),t._v(" to the log.")]),t._v(" "),s("p",[s("code",[t._v("path")]),t._v(" can be used to split traffic from other WebSocket inbounds, or masquerade HTTP traffic. It has minimal overhead, being pure traffic forwarding, and is "),s("a",{attrs:{href:"https://github.com/badO1a5A90/v2ray-doc/blob/master/v2ray%20speed%20test%20v4.27.2.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("generally more effective than Nginx reverse-proxies"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("Note: "),s("strong",[t._v("The inbound where fallbacks are used must be TCP+TLS")]),t._v(", which is used to split traffic to other WebSocket inbounds. The inbound being split does not need to be configured with TLS.")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("dest")]),t._v(": string | number")])]),t._v(" "),s("p",[t._v("Determines the destination of TCP traffic after TLS decryption. Required. Currently supports two types of destinations:")]),t._v(" "),s("ol",[s("li",[t._v("TCP, in the format of "),s("code",[t._v('"addr:port"')]),t._v(", where "),s("code",[t._v("addr")]),t._v(" is an IPv4 or IPv6 address, or a domain name. If a domain name is used, a TCP connection will be initiated directly (without querying the "),s("RouterLink",{attrs:{to:"/en_US/config/dns.html"}},[t._v("built-in DNS")]),t._v(").")],1),t._v(" "),s("li",[t._v("Unix domain socket, in the format of an absolute path, such as "),s("code",[t._v('"/dev/shm/domain.socket"')]),t._v(", with "),s("code",[t._v('"@"')]),t._v(" prepended to represent "),s("a",{attrs:{href:"https://www.man7.org/linux/man-pages/man7/unix.7.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("abstract sockets"),s("OutboundLink")],1),t._v(", or "),s("code",[t._v('"@@"')]),t._v(" to represent abstract sockets with padding.")])]),t._v(" "),s("p",[t._v("If only a port is configured, numbers or strings can be used, such as "),s("code",[t._v("80")]),t._v(" or "),s("code",[t._v('"80"')]),t._v(", which usually points to a local web service (destination is assumed to be "),s("code",[t._v('"127.0.0.1"')]),t._v(").")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("xver")]),t._v(": number")])]),t._v(" "),s("p",[t._v("Utilize the "),s("a",{attrs:{href:"https://www.haproxy.org/download/2.2/doc/proxy-protocol.txt",target:"_blank",rel:"noopener noreferrer"}},[t._v("PROXY protocol"),s("OutboundLink")],1),t._v(" to send the incoming IP and port of the request. Version "),s("code",[t._v("1")]),t._v(" or "),s("code",[t._v("2")]),t._v(" are supported, with the default being "),s("code",[t._v("0")]),t._v(" (disabled). If needed, it is recommended to be set to "),s("code",[t._v("1")]),t._v(".")]),t._v(" "),s("p",[t._v("Currently, versions "),s("code",[t._v("1")]),t._v(" and "),s("code",[t._v("2")]),t._v(" are effectively the same, but the data structures are different, and the former can be printed, while the latter is encoded in binary. V2Ray's TCP and WebSocket inbounds all support receiving PROXY protocol.")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("If you are "),s("a",{attrs:{href:"https://docs.nginx.com/nginx/admin-guide/load-balancer/using-proxy-protocol/#configuring-nginx-to-accept-the-proxy-protocol",target:"_blank",rel:"noopener noreferrer"}},[t._v("configuring Nginx to receive PROXY protocol"),s("OutboundLink")],1),t._v(", in addition to setting "),s("code",[t._v("proxy_protocol")]),t._v(", you may also need to set "),s("code",[t._v("set_real_ip_from")]),t._v(", otherwise it may not function correctly.")])]),t._v(" "),s("p",[s("strong",[t._v("Additional Info")])]),t._v(" "),s("ol",[s("li",[t._v("The most accurate "),s("code",[t._v("FallbackObject")]),t._v(" will be matched. If there are several child elements with the same "),s("code",[t._v("alpn")]),t._v(" and "),s("code",[t._v("path")]),t._v(", the last one will be used.")]),t._v(" "),s("li",[t._v("The fallback traffic routing forwards TCP (Transport Layer) data directly after decryption, not HTTP (Application Layer) data, and only the first packet's hyperlink path is parsed when necessary.")]),t._v(" "),s("li",[t._v("Domain name traffic routing is not supported. If this is needed, it is recommended to use Nginx or other tools to configure Stream SNI traffic routing.")])])])}),[],!1,null,null,null);e.default=n.exports}}]);