(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{272:function(t,s,e){"use strict";e.r(s);var a=e(0),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"http"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http"}},[t._v("#")]),t._v(" HTTP")]),t._v(" "),e("ul",[e("li",[t._v("Name: "),e("code",[t._v("http")])]),t._v(" "),e("li",[t._v("Type: Inbound/Outbound")])]),t._v(" "),e("p",[t._v("HTTP's configuration is divided into two parts, "),e("code",[t._v("InboundConfigurationObject")]),t._v(" and "),e("code",[t._v("OutboundConfigurationObject")]),t._v(", corresponding to the "),e("code",[t._v("settings")]),t._v(" element in the inbound and outbound protocol configuration respectively.")]),t._v(" "),e("h2",{attrs:{id:"inboundconfigurationobject"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#inboundconfigurationobject"}},[t._v("#")]),t._v(" InboundConfigurationObject")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"timeout"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"accounts"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"user"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my-username"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pass"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my-password"')]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"allowTransparent"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"userLevel"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("Note that although inbound HTTP can provide public services, the HTTP protocol is not encrypted and is thus not suitable for transmission over public networks, as it would be highly vulnerable to MITM attacks. A more meaningful use of inbound HTTP is to open the inbound only to the local machine (loopback), Local Area Network, or other internal networks to provide services for other programs.")])]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("timeout")]),t._v(": number")])]),t._v(" "),e("p",[t._v("Timeout for client HTTP requests in seconds, 0 for no timeout. The default value is 300. (Since v3.1) Equivalent to the "),e("code",[t._v("connIdle")]),t._v(" policy of the corresponding user level.")]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("accounts")]),t._v(": ["),e("a",{attrs:{href:"#accountobject"}},[t._v("AccountObject")]),t._v("]")])]),t._v(" "),e("p",[t._v("An array, each element of which is an "),e("a",{attrs:{href:"#AccountObject"}},[t._v("AccountObject")]),t._v(". The default value is empty.")]),t._v(" "),e("p",[t._v("When "),e("code",[t._v("accounts")]),t._v(" is non-empty, HTTP will perform Basic Authentication ("),e("code",[t._v("WWW-Authenticate")]),t._v(") on inbound connections.")]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("allowTransparent")]),t._v(": true | false")])]),t._v(" "),e("p",[t._v("When set to "),e("code",[t._v("true")]),t._v(", all HTTP requests will be forwarded, not just proxy requests. If incorrectly configured, enabling this option may cause a loop.")]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("userLevel")]),t._v(": number")])]),t._v(" "),e("p",[t._v("User level, default value is "),e("code",[t._v("0")]),t._v(". See "),e("RouterLink",{attrs:{to:"/en_US/config/policy.html"}},[t._v("Local Policy")]),t._v(".")],1),t._v(" "),e("h3",{attrs:{id:"accountobject"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#accountobject"}},[t._v("#")]),t._v(" AccountObject")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"user"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"USERNAME"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pass"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PASSWORD"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("blockquote",[e("p",[e("code",[t._v("user")]),t._v(": string")])]),t._v(" "),e("p",[t._v("Username, can be any string. Required.")]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("pass")]),t._v(": string")])]),t._v(" "),e("p",[t._v("Password, can be any string. Required.")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("In Linux, you can set the following environment variables to use a global HTTP proxy in the current user session (most but not all applications respect this setting).")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("export http_proxy=http://127.0.0.1:8080/")]),t._v(" (the address must be changed to the HTTP inbound proxy address you configured)")]),t._v(" "),e("li",[e("code",[t._v("export https_proxy=$http_proxy")])])])]),t._v(" "),e("h2",{attrs:{id:"outboundconfigurationobject"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#outboundconfigurationobject"}},[t._v("#")]),t._v(" OutboundConfigurationObject")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"servers"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"address"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"192.168.108.1"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"port"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3128")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"users"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"user"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"USERNAME"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pass"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PASSWORD"')]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("(Since v4.21.0)")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("Note that although outbound HTTP can be used as a configuration for external access, the HTTP protocol is not encrypted and is thus not suitable for usage over public networks. Additionally, because HTTP does not support UDP routing, it will limit available networking functionality for supplementary protocols (DNS queries are unavailable for example). A more meaningful use of outbound HTTP is in special cases, where only an HTTP proxy can be used to access an internal network from an external connection, as a pre-proxy for connections of other protocol connections (see "),e("code",[t._v("OutboundObject")]),t._v("'s "),e("code",[t._v("ProxySettingsObject")]),t._v(").")])]),t._v(" "),e("p",[t._v("(Since v4.21.1)")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("Since v4.20.0, outbound HTTP was added as a pre-proxy for other protocols, albeit lacking support for TLS configurations. From v4.21.1 onwards, HTTP will also inherits the effect of "),e("code",[t._v("security")]),t._v(" and "),e("code",[t._v("tlsSettings")]),t._v(" in "),e("code",[t._v("streamSettings")]),t._v(". Currently, protocols VMESS/TCP, VMESS/TCP-TLS, and Shadowsocks can be used for such a pre-proxy, and pre-proxy usage of other transport protocols are pending implementation in future versions.")])]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("servers")]),t._v(": array")])]),t._v(" "),e("p",[t._v("An array of HTTP proxies to use. If multiple items are present, they are picked round-robin.")]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("address")]),t._v(": string")])]),t._v(" "),e("p",[t._v("Remote HTTP proxy server address. Required.")]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("port")]),t._v(": int")])]),t._v(" "),e("p",[t._v("Remote HTTP proxy server port. Required.")]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("user")]),t._v(": ["),e("a",{attrs:{href:"#accountobject"}},[t._v("AccountObject")]),t._v("]")])]),t._v(" "),e("p",[t._v("An array of credentials , each element of which is an "),e("a",{attrs:{href:"#AccountObject"}},[t._v("AccountObject")]),t._v(". Optional, default is no authentication.")])])}),[],!1,null,null,null);s.default=n.exports}}]);